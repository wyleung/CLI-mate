<!-- 
Auto generated by:
    LUMC Interface Generator {{version}}
    {{time}}

Based on: 
    {{data['meta']['label']}}
    {{data['meta']['time']}}
-->

<description>
  <executable name="{{data.binary}}">
    
    {% if data['grid_access_type'] == 'LFN' -%}
    <!--access {{data.property_bag['access_type']}} -->
    <access type="LFN"/>
    <value value="{{data['grid_access_location']}}/{{data.binary}}"/>
    {%- elif data['grid_access_type'] == 'URL'%}
    <access type="URL">
      <path value="{{data['grid_access_location']}}" />
    </access>
    <value name="{{data.binary}}" />
    {%- endif %}

{%- for parameter in data.parameters -%}
    {%- if parameter.type == 'input' %}
    <!--file_input {{parameter.property_bag['access_type']}}-->
    <input name="{{parameter.name}}" option="no{{inout_index[parameter.name]}}">
      {% if parameter.property_bag['access_type'] == 'URL' -%}
      <access type="URL">
          <path value="{{parameter.property_bag['access_location']}}" />
      </access>
      <value value="{{parameter.value}}" />
      {% elif parameter.property_bag['access_type'] == 'LFN' -%}
      <access type="LFN" />
      {%- endif %}
    </input>
    {% elif parameter.type in ['stdout', 'stderr', 'output'] %}
    <!--file_output {{parameter.property_bag['access_type']}}-->
    <output name="{{parameter.name}}" option="
      {%- if parameter.type == 'output' -%} no{{ inout_index[parameter.name] }}
	  {%- elif parameter.type in ['stdout', 'stderr'] -%} {{ parameter.arg }}
	  {%- endif %}">
      <template value="
	    {%- if parameter.property_bag['dir_template'] -%}
	      $dir{{ inout_index[parameter.property_bag['dir_template']] }}/result/
	      {%- for input in inputs -%}$na{{ inout_index[input.name] }}{{ '_' if not loop.last }}{%- endfor -%}/
	    {%- endif -%}
	    {{ parameter.name }}.{{ parameter.format if parameter.format else 'txt' }}"/>
      <access type="LFN"/>
    </output>
    {% else %}
    <!--param_input-->
    <input name="{{parameter.name}}" option="{{parameter.arg}}"/>
    {% endif -%}
{%- endfor %}

{#- TODO: sandboxs -#}
{% for req in data.requirements %}
    <!--sandbox-LFN-->
    <sandbox name="{{req.req_name}}">
      <access type="LFN" />
      <value value="{{req.req_location}}" />
    </sandbox>
{%- endfor %}

  </executable>
</description>